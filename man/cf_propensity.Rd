% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/propensity.R
\name{cf_propensity}
\alias{cf_propensity}
\title{Cross‐fitted propensity score estimation}
\usage{
cf_propensity(task, learners, control, pb = NULL)
}
\arguments{
\item{task}{An \code{lmtp_task} object created by \code{lmtp_task()}.}

\item{learners}{Character; either "rf" (ranger) or "sl" (SuperLearner).}

\item{control}{An \code{lmtp_control()} object; supplies \code{.learners_trt_folds} and \code{.quiet}.}

\item{pb}{Function; optional progress callback called after each timepoint.}
}
\value{
A list with:
\item{prop_scores}{Array of dimension (n_valid × T × 2): P(A_t=0) in \link{,,1}, P(A_t=1) in \link{,,2}.}
\item{fits}{List of length T with fitted model objects or weights.}
}
\description{
Perform V‐fold cross‐validation to estimate time‐varying propensity scores.
}
\keyword{internal}
